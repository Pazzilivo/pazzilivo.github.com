
<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" >
		<meta content="width=device-width,initial-scale=1" name="viewport">
		<meta content="" name="description">
		<meta content="Pazzilivo" name="author">
		
		<title>使用Dotcloud搭建Twip4的twitter API &mdash; Pazzilivo</title>
		
		<link href="humans.txt" rel="author" type="text/plain">
		<link href="/favicon.ico" rel="icon">

		<link href="/stylesheets/application.css" rel="stylesheet">
		
		<link href="http://feeds.feedburner.com/turkeltaub" rel="alternate" title="Pazzilivo" type="application/rss+xml" />
		
		<script type="text/javascript" src="http://use.typekit.com/lux8yqy.js"></script>
		<script type="text/javascript">try{Typekit.load();}catch(e){}</script>
	</head>
	<body>
		<div id="contain">
			<header>
				<section>
					<h1><a href="/">Ethan Turkeltaub</a></h1>
				</section>
			</header>
			<div id="main" role="main">
				<article class="">
	<header>
		
				<p>&mdash;</p>
		
	</header>
	<p>前几个月经过<a href="https://twitter.com/forzaRicky">@forzaRicky</a>提及到dotcloud可以搭建twitter的api，由于在ubuntu下搭建比较方便，苦于没有环境，一直没有折腾，前一阵因为想搞这个Blog，所以装了个Ubuntu，正好折腾一下，在搜索的过程中发现可以搭建TWIP4的api，甚是Happy。</p>

<p>下边是教程，大部分参考<a href="https://twitter.com/soooulp">@sooulp</a>的Blog，但是也遇到了一些问题。</p>

<h4>1.在ubuntu终端上安装dotcloud客户端</h4>

<p>首先请确认你的python版本至少是2.6版的，如果不是2.6版本，请更新你的python。</p>

<pre><code>$ python -V
</code></pre>

<p>安装有setuptools开发包的请使用easy_install安装DotCloud:</p>

<pre><code>$ sudo easy_install dotcloud //官方推荐方式
</code></pre>

<p>如果没有setuptools开发包请使用下面的方式安装DotCloud客户端：</p>

<pre><code>$ sudo apt-get install python-pip   //基于Debian的系统，获取pip(原pyinstall)
$ sudo pip install dotcloud       //通过pip安装DotCloud
</code></pre>

<h4>2.配置dotcloud</h4>

<pre><code>$ dotcloud ##输入的apikey，在网页上找到。
$ dotcloud -h ##查看命令详解
</code></pre>

<p>然后创建application</p>

<pre><code>$ dotcloud create xxxx //Created application "xxxx"
</code></pre>

<h4>3.Twip的配置</h4>

<p>下载twip4压缩包<a href="http://loui.tk/wp-content/uploads/2012/02/yegle-twip-feb8726.zip">yegle-twip-feb8726.zip</a>，解压到主文件夹，修改key，secret，basic-url值（格式为https://xxxx-usename.dotcloud.com/,xxxx为上一步创建的app名，切记后面的/不能少）
然后在文件夹内添加新文档，内容为</p>

<pre><code>if (!-e $request_filename){rewrite ^/(.*)$ /index.php last;}
</code></pre>

<p>然后命名为 <code>nginx.conf</code>
新建文档，内容为</p>

<pre><code>www:
  type: php //注意前边是两个空格，不能用tab键                                                                          
</code></pre>

<p>命名为<code>dotcloud.yml</code></p>

<h4>4.文件部署</h4>

<p>在终端进twip文件所在文件夹，然后上传文件</p>

<pre><code>cd /home/user/yegle-twip-feb8726 dotcloud push xxxx
</code></pre>

<p>user为系统用户名，xxxx同为app应用名
上传好后，会提示</p>

<pre><code>Deployment finished. Your application is available at the following URLs www: http://xxxx-usename.dotcloud.com/
</code></pre>

<p>然后浏览器访问这个地址，会显示空白，然后再访问</p>

<pre><code>http://xxxx-usename.dotcloud.com/index.html
</code></pre>

<p>出现twip4界面，搭建成功。</p>

	<footer>
		<p>








  

<time datetime="2012-09-01T02:12:00+08:00" pubdate data-updated="true"><a href="//blog/2012/09/01/dotcloudapi/">Sep 1<span>st</span>, 2012</a></time></p>
		
	</footer>
	
		<section class="livefyre">
	<script type='text/javascript' src='http://zor.livefyre.com/wjs/v1.0/javascripts/livefyre_init.js'></script>
	<script type='text/javascript'>
		var fyre = LF({
		    site_id: 290312
		});
	</script>
</section>

	
</article>

			</div>
			<footer>
				<nav>
					<section>
						<ul id="navigation">
							<h3>Navigation</h3>
							<li><a href="/hi">Profile</a></li>
							<li><a href="http://feeds.feedburner.com/turkeltaub">RSS</a></li>
						</ul>
						<ul id="networks">
							<h3>Networks</h3>
							<li><a href="http://twitter.com/ethnt">Twitter</a></li>
							<li><a href="http://github.com/eturk">GitHub</a></li>
							<li><a href="http://dribbble.com/Ethan">Dribbble</a></li>
						</ul>
					</section>
				</nav>
				<footer>
					<section>
						<p><a href="/">Ethan Turkeltaub</a> fecit 2012.</p>
					</section>
				</footer>
			</footer>
		</div>
		<script src="http://code.jquery.com/jquery.min.js"></script>
		<script src="/jsc/lib/jquery.fitvid.js"></script>
		<script src="/jsc/lib/jquery.media-element.js"></script>
		<script src="/jsc/application.js"></script>
		<script type="text/javascript">
			var _gaq = _gaq || [];
			_gaq.push(['_setAccount', 'UA-33270842-1']);
			_gaq.push(['_trackPageview']);

			(function() {
				var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
				ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
				var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
			})();
		</script>
		<!--[if lt IE 7 ]>
			<script src="//ajax.googleapis.com/ajax/libs/chrome-frame/1.0.3/CFInstall.min.js"></script>
			<script>window.attachEvent('onload',function(){CFInstall.check({mode:'overlay'})})</script>
		<![endif]-->
	</body>
</html>
